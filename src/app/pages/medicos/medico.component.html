<div *ngIf="loading" class="row animated fadeIn">
    <div class="col-md-12">
        <div class="alert alert-warning text-center">
            <strong>Loading</strong>
            <br>
            <i class="fa fa-refresh fa-spin fa-2x" aria-hidden="true"></i>
            <br>
            <span>Espere por favor</span>
        </div>
    </div>
</div>

<div class="row animated fadeIn">
    <div class="col-lg-7">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">{{title}}</h4>
                <h6 class="card-subtitle">made with bootstrap elements</h6>
                <form class="form p-t-20" #frmDoctor="ngForm" ngNativeValidate (ngSubmit)="saveDoctor(frmDoctor)">
                    <div class="form-group">
                        <label for="exampleInputuname">Nombre del Doctor</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input type="text" class="form-control" id="exampleInputuname" placeholder="name" name="name" [(ngModel)]="medico.name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="hospital">Hospital</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <select class="form-control" (change)="onChangeHospitalValue($event)" name="hospital" [(ngModel)]="medico.hospital">
                              <option value="">Seleccione un hospital</option>
                              <option *ngFor="let item of hospitals" [value]="item._id">{{item.name}}</option>
                            </select>
                        </div>
                        <img [src]="selectedHospital.image | image:'hospital'" style="width:200px;" [alt]="selectedHospital.image">
                    </div>

                    <button type="submit" class="btn btn-success waves-effect waves-light m-r-10"><i class="fa fa-save" aria-hidden="true"></i> Guardar</button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-5">
        <div class="card">
            <div class="card-body" align="center">
                <h4 class="card-title">Imagen del Doctor</h4>
                <h6 class="card-subtitle">Nombre de Usuario</h6>

                <img *ngIf="!tempImage; else preview" [src]="medico.image | image:'medico'" [alt]="medico.image" class="w150" />
                <ng-template #preview>
                    <img [src]="tempImage" [alt]="medico.image" class="w150" />
                </ng-template>
                <input type="file" (change)="onImageToUploadChange($event.target.files[0])" />

                <br>
                <button (click)="changeImage()" type="button" class="btn btn-success btn-block waves-effect waves-light m-r-10"><i class="fa fa-save" aria-hidden="true"></i> Subir Imagen</button>
            </div>
        </div>
    </div>
    <div class="col-md-12 text-right">
        <button routerLink="/doctors" class="btn btn-outline-danger">Volver</button>
    </div>
</div>